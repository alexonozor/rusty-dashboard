<div class="p-6 min-h-screen">
  <div class="max-w-7xl mx-auto">
    <!-- Breadcrumb -->
    <div class="mb-8 text-sm text-slate-600 dark:text-slate-400">
      <a href="#" class="hover:text-slate-900 dark:hover:text-white">User</a>
      <span class="mx-2">&gt;</span>
      <span class="text-indigo-600 dark:text-indigo-400">Profile</span>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
      <!-- User Profile Card -->
      <mat-card appearance="outlined" class="lg:col-span-1">
        <mat-card-content class="pt-6 text-center">
          <div class="mb-6">
            <img 
              [src]="user().avatar" 
              [alt]="user().name"
              class="w-32 h-32 rounded-full mx-auto border-4 border-indigo-500 dark:border-indigo-400"
            />
          </div>
          
          <h2 class="text-2xl font-bold text-slate-900 dark:text-white mb-1">
            {{ user().name }}
          </h2>
          <p class="text-slate-600 dark:text-slate-400 mb-2">{{ user().role }}</p>
          <a 
            [href]="'mailto:' + user().email" 
            class="text-indigo-600 dark:text-indigo-400 text-sm hover:underline"
          >
            {{ user().email }}
          </a>

          <!-- Skills -->
          <div class="mt-6 flex flex-wrap gap-2 justify-center">
            @for (skill of user().skills; track skill) {
              <mat-chip class="bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300">
                {{ skill }}
              </mat-chip>
            }
          </div>

          <!-- Stats -->
          <div class="grid grid-cols-2 gap-4 mt-8 pt-6 border-t border-slate-200 dark:border-slate-700">
            <div>
              <p class="text-2xl font-bold text-slate-900 dark:text-white">{{ stats().posts }}</p>
              <p class="text-xs text-slate-600 dark:text-slate-400">Posts</p>
            </div>
            <div>
              <p class="text-2xl font-bold text-slate-900 dark:text-white">{{ stats().projects }}</p>
              <p class="text-xs text-slate-600 dark:text-slate-400">Projects</p>
            </div>
            <div>
              <p class="text-lg font-bold text-slate-900 dark:text-white">{{ stats().followers }}</p>
              <p class="text-xs text-slate-600 dark:text-slate-400">Followers</p>
            </div>
            <div>
              <p class="text-lg font-bold text-slate-900 dark:text-white">{{ stats().following }}</p>
              <p class="text-xs text-slate-600 dark:text-slate-400">Following</p>
            </div>
          </div>

          <!-- Social Links -->
          <div class="flex justify-center gap-4 mt-6 pt-6 border-t border-slate-200 dark:border-slate-700">
            <button mat-icon-button class="text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white">
              <mat-icon>facebook</mat-icon>
            </button>
            <button mat-icon-button class="text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white">
              <mat-icon>mail</mat-icon>
            </button>
            <button mat-icon-button class="text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white">
              <mat-icon>language</mat-icon>
            </button>
            <button mat-icon-button class="text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white">
              <mat-icon>image</mat-icon>
            </button>
          </div>

          <!-- Pro Badge -->
          <div class="mt-6">
            <span class="inline-block px-4 py-2 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 rounded-full text-xs font-semibold">
              PRO
            </span>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- Files and Tasks Section -->
      <div class="lg:col-span-2 space-y-6">
        <!-- Files Card -->
        <mat-card appearance="outlined">
          <mat-card-header class="border-b">
            <mat-card-title class="px-6 py-4 m-0">Files</mat-card-title>
          </mat-card-header>
          <mat-card-content class="pt-6">
            <!-- Tabs -->
            <mat-tab-group class="mb-6">
              <mat-tab label="Work"></mat-tab>
              <mat-tab label="Private"></mat-tab>
              <mat-tab label="Social"></mat-tab>
            </mat-tab-group>

            <!-- File Items Grid -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
              @for (file of files(); track file.id) {
                <div 
                  class="p-4 rounded-lg cursor-pointer hover:shadow-lg transition-shadow"
                  [ngClass]="file.color"
                >
                  <div class="flex items-center justify-between mb-3">
                    <mat-icon class="text-2xl">{{ file.icon }}</mat-icon>
                  </div>
                  <h3 class="font-semibold text-sm mb-1">{{ file.name }}</h3>
                  <p class="text-xs opacity-75">{{ file.fileCount }} files</p>
                </div>
              }
            </div>
          </mat-card-content>
        </mat-card>

        <!-- Tasks Card -->
        <mat-card appearance="outlined">
          <mat-card-header class="border-b">
            <mat-card-title class="px-6 py-4 m-0">Tasks</mat-card-title>
          </mat-card-header>
          <mat-card-content class="pt-6">
            <!-- Tabs -->
            <mat-tab-group>
              <mat-tab label="Today"></mat-tab>
              <mat-tab label="This Week"></mat-tab>
              <mat-tab label="This Month"></mat-tab>
            </mat-tab-group>

            <!-- Tasks List -->
            <mat-list>
              @for (task of tasks(); track task.id) {
                <mat-list-item>
                  <mat-icon matListItemIcon 
                    [ngClass]="getPriorityColor(task.priority)"
                    class="text-lg"
                  >
                    @if (task.priority === 'high') {
                      circle
                    }
                    @if (task.priority === 'medium') {
                      circle
                    }
                    @if (task.priority === 'low') {
                      circle
                    }
                  </mat-icon>
                  <div matListItemTitle class="flex items-center gap-2">
                    <span class="text-xs text-slate-500 dark:text-slate-400">{{ task.time }}</span>
                    <span class="text-slate-900 dark:text-white">{{ task.title }}</span>
                  </div>
                  <button mat-icon-button matListItemMeta>
                    <mat-icon class="text-slate-400">more_vert</mat-icon>
                  </button>
                </mat-list-item>
              }
            </mat-list>
          </mat-card-content>
        </mat-card>
      </div>
    </div>

    <!-- Bottom Row: Media, Projects, Calendar -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <!-- Media Card -->
      <mat-card appearance="outlined">
        <mat-card-header class="border-b">
          <mat-card-title class="px-6 py-4 m-0 flex items-center justify-between">
            <span>Media</span>
            
          </mat-card-title>
        </mat-card-header>
        <mat-card-content class="pt-6">
          <div class="grid grid-cols-2 gap-6">
            <div class="text-center">
              <div class="text-3xl font-bold text-slate-900 dark:text-white">194</div>
              <div class="text-xs text-slate-600 dark:text-slate-400 mt-1">Posts</div>
            </div>
            <div class="text-center">
              <div class="text-3xl font-bold text-slate-900 dark:text-white">554</div>
              <div class="text-xs text-slate-600 dark:text-slate-400 mt-1">Projects</div>
            </div>
            <div class="text-center">
              <div class="text-2xl font-bold text-slate-900 dark:text-white">12.8k</div>
              <div class="text-xs text-slate-600 dark:text-slate-400 mt-1">Followers</div>
            </div>
            <div class="text-center">
              <div class="text-2xl font-bold text-slate-900 dark:text-white">1.1k</div>
              <div class="text-xs text-slate-600 dark:text-slate-400 mt-1">Following</div>
            </div>
          </div>
        </mat-card-content>
      </mat-card>

      <!-- Projects Card with Pie Chart -->
      <mat-card appearance="outlined">
        <mat-card-header class="border-b">
          <mat-card-title class="px-6 py-4 m-0 flex items-center justify-between">
            <span>Projects</span>
            
          </mat-card-title>
        </mat-card-header>
        <mat-card-content class="pt-6">
          <div class="flex justify-center mb-4">
            <ngx-charts-pie-chart
              [results]="projectsData()"
              [view]="[280, 150]"
              scheme="nightLights"
              [tooltipDisabled]="true"
              [doughnut]="true"
              [explodeSlices]="true"
            ></ngx-charts-pie-chart>
          </div>
          
          <!-- Legend -->
          <div class="space-y-2">
            @for (item of projectsData(); track item.name) {
              <div class="flex items-center justify-between text-sm">
                <div class="flex items-center gap-2">
                  <div 
                    class="w-3 h-3 rounded-full" 
                    [style.background-color]="item.color"
                  ></div>
                  <span class="text-slate-600 dark:text-slate-400">{{ item.name }}</span>
                </div>
                <span class="font-semibold text-slate-900 dark:text-white">{{ item.value }}</span>
              </div>
            }
          </div>
          
          <button mat-stroked-button color="primary" class="w-full mt-4">
            Details
          </button>
        </mat-card-content>
      </mat-card>

      <!-- Calendar Card (Placeholder) -->
      <mat-card appearance="outlined">
        <mat-card-header class="border-b">
          <mat-card-title class="px-6 py-4 m-0 flex items-center justify-between">
            <span>Calendar</span>
            <!-- <span class="text-sm text-slate-600 dark:text-slate-400">December 2025</span> -->
          </mat-card-title>
        </mat-card-header>
        <mat-card-content class="pt-6">
          <div class="grid grid-cols-7 gap-2 text-center text-xs">
            @for (day of ['S', 'M', 'T', 'W', 'T', 'F', 'S']; track day) {
              <div class="font-semibold text-slate-600 dark:text-slate-400 py-2">{{ day }}</div>
            }
            @for (date of [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31]; track date) {
              <div class="py-2 rounded hover:bg-slate-200 dark:hover:bg-slate-700 cursor-pointer text-slate-900 dark:text-white">
                {{ date }}
              </div>
            }
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
